(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35174,e=>{"use strict";var a=e.i(43476);let s=(0,e.i(75254).default)("sword",[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]]);function r({label:e="Loading...",compact:r=!1,light:l=!1}){return(0,a.jsxs)("div",{className:`loading ${r?"loading--compact":""} ${l?"loading--light":""}`.trim(),role:"status","aria-live":"polite",children:[(0,a.jsx)(s,{className:"loading__icon"}),e?(0,a.jsx)("span",{className:"loading__label",children:e}):null]})}e.s(["default",()=>r],35174)},98127,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(17927),l=e.i(35174);function i(){let[e,i]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[d,c]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=async()=>{c("");let{data:e,error:a}=await r.supabase.rpc("get_rank_profiles"),s=null,l=a;if(!a&&e)s=e;else{let{data:e,error:a}=await r.supabase.from("profiles").select("id, display_name, wins, games_played");s=e??[],l=a}if(l){c("Não foi possível carregar o ranking."),n(!1);return}i([...s??[]].sort((e,a)=>{let s=e.wins??0,r=a.wins??0;if(s!==r)return r-s;let l=e.games_played??0,i=a.games_played??0;if(l!==i)return l-i;let t=e.display_name?.trim()||"",n=a.display_name?.trim()||"";return t.localeCompare(n,"pt-BR",{sensitivity:"base"})})),n(!1)};e();let a=r.supabase.channel("rank-page-profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{e()}).subscribe();return()=>{r.supabase.removeChannel(a)}},[]);let p=(0,s.useMemo)(()=>e.length>0,[e]);return(0,a.jsx)("div",{className:"rank-page",children:(0,a.jsxs)("div",{className:"rank-page__card",children:[(0,a.jsx)("h1",{className:"rank-page__title",children:"Ranking"}),t&&(0,a.jsx)("div",{className:"rank-page__status",children:(0,a.jsx)(l.default,{label:"Carregando ranking..."})}),!t&&d&&(0,a.jsx)("p",{className:"rank-page__error",children:d}),!t&&!d&&!p&&(0,a.jsx)("p",{className:"rank-page__status",children:"Nenhum perfil encontrado."}),!t&&!d&&p&&(0,a.jsx)("div",{className:"rank-page__table-wrapper",children:(0,a.jsxs)("table",{className:"rank-page__table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"#"}),(0,a.jsx)("th",{children:"Nome"}),(0,a.jsx)("th",{children:"Vitórias"}),(0,a.jsx)("th",{children:"Jogos"})]})}),(0,a.jsx)("tbody",{children:e.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:s+1}),(0,a.jsx)("td",{children:e.display_name?.trim()||"Sem nome"}),(0,a.jsx)("td",{children:e.wins??0}),(0,a.jsx)("td",{children:e.games_played??0})]},e.id))})]})})]})})}e.s(["default",()=>i])}]);