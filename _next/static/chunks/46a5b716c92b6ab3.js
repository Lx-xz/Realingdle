(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98127,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(17927);function n(){let[e,n]=(0,s.useState)([]),[t,l]=(0,s.useState)(!0),[i,c]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=async()=>{c("");let{data:e,error:a}=await r.supabase.from("profiles").select("id, display_name, wins, games_played");if(a){c("Não foi possível carregar o ranking."),l(!1);return}n([...e??[]].sort((e,a)=>{let s=e.wins??0,r=a.wins??0;if(s!==r)return r-s;let n=e.games_played??0,t=a.games_played??0;if(n!==t)return n-t;let l=e.display_name?.trim()||"",i=a.display_name?.trim()||"";return l.localeCompare(i,"pt-BR",{sensitivity:"base"})})),l(!1)};e();let a=r.supabase.channel("rank-page-profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{e()}).subscribe();return()=>{r.supabase.removeChannel(a)}},[]);let d=(0,s.useMemo)(()=>e.length>0,[e]);return(0,a.jsx)("div",{className:"rank-page",children:(0,a.jsxs)("div",{className:"rank-page__card",children:[(0,a.jsx)("h1",{className:"rank-page__title",children:"Ranking"}),t&&(0,a.jsx)("p",{className:"rank-page__status",children:"Carregando ranking..."}),!t&&i&&(0,a.jsx)("p",{className:"rank-page__error",children:i}),!t&&!i&&!d&&(0,a.jsx)("p",{className:"rank-page__status",children:"Nenhum perfil encontrado."}),!t&&!i&&d&&(0,a.jsx)("div",{className:"rank-page__table-wrapper",children:(0,a.jsxs)("table",{className:"rank-page__table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"#"}),(0,a.jsx)("th",{children:"Nome"}),(0,a.jsx)("th",{children:"Vitórias"}),(0,a.jsx)("th",{children:"Jogos"})]})}),(0,a.jsx)("tbody",{children:e.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:s+1}),(0,a.jsx)("td",{children:e.display_name?.trim()||"Sem nome"}),(0,a.jsx)("td",{children:e.wins??0}),(0,a.jsx)("td",{children:e.games_played??0})]},e.id))})]})})]})})}e.s(["default",()=>n])}]);