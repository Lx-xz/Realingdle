(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35174,e=>{"use strict";var a=e.i(43476);let t=(0,e.i(75254).default)("sword",[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]]);function s({label:e="Loading...",compact:s=!1,light:i=!1}){return(0,a.jsxs)("div",{className:`loading ${s?"loading--compact":""} ${i?"loading--light":""}`.trim(),role:"status","aria-live":"polite",children:[(0,a.jsx)(t,{className:"loading__icon"}),e?(0,a.jsx)("span",{className:"loading__label",children:e}):null]})}e.s(["default",()=>s],35174)},97936,e=>{"use strict";var a=e.i(43476);function t({children:e,onClick:t,type:s="button",variant:i="primary",disabled:l=!1}){return(0,a.jsx)("button",{className:`button button--${i}`,onClick:t,type:s,disabled:l,children:e})}e.s(["default",()=>t])},90432,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(97936),l=e.i(35174),n=e.i(17927);function r(){let e=(0,s.useRouter)(),l=(0,s.useSearchParams)(),r=(0,t.useMemo)(()=>l.get("next")||"/game-settings",[l]),[u,o]=(0,t.useState)("login"),[c,d]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[_,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),[f,v]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{let{data:a}=await n.supabase.auth.getSession();a.session&&e.replace(r)})()},[e,r]);let w=async a=>{a.preventDefault(),v(""),j(""),x(!0);try{if("signup"===u){if(h!==p)throw Error("Passwords do not match");let{error:e}=await n.supabase.auth.signUp({email:c,password:h,options:{emailRedirectTo:"https://lx-xz.github.io/realingdle/"}});if(e)throw e;j("Account created! Please confirm your email to continue.")}else{let{error:a}=await n.supabase.auth.signInWithPassword({email:c,password:h});if(a)throw a;e.replace(r)}}catch(e){v(e.message||"Unable to continue. Please try again.")}finally{x(!1)}},y=e=>{e!==u&&(o(e),v(""),j(""))};return(0,a.jsx)("div",{className:"auth",children:(0,a.jsxs)("div",{className:"auth__card",children:[(0,a.jsxs)("div",{className:"auth__header",children:[(0,a.jsx)("h1",{className:"auth__title",children:"Admin Access"}),(0,a.jsx)("p",{className:"auth__subtitle",children:"login"===u?"Login to manage characters and game data.":"Create an admin account to manage content."})]}),(0,a.jsxs)("div",{className:"auth__tabs",children:[(0,a.jsx)("button",{type:"button",className:`auth__tab ${"login"===u?"auth__tab--active":""}`,onClick:()=>y("login"),children:"Login"}),(0,a.jsx)("button",{type:"button",className:`auth__tab ${"signup"===u?"auth__tab--active":""}`,onClick:()=>y("signup"),children:"Sign up"})]}),(0,a.jsxs)("form",{className:"auth__form",onSubmit:w,children:[(0,a.jsxs)("div",{className:"auth__field",children:[(0,a.jsx)("label",{htmlFor:"auth-email",children:"Email"}),(0,a.jsx)("input",{id:"auth-email",type:"email",value:c,onChange:e=>d(e.target.value),required:!0,autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"auth__field",children:[(0,a.jsx)("label",{htmlFor:"auth-password",children:"Password"}),(0,a.jsx)("input",{id:"auth-password",type:"password",value:h,onChange:e=>m(e.target.value),required:!0,autoComplete:"signup"===u?"new-password":"current-password"})]}),"signup"===u&&(0,a.jsxs)("div",{className:"auth__field",children:[(0,a.jsx)("label",{htmlFor:"auth-confirm",children:"Confirm Password"}),(0,a.jsx)("input",{id:"auth-confirm",type:"password",value:p,onChange:e=>g(e.target.value),required:!0,autoComplete:"new-password"})]}),b&&(0,a.jsx)("p",{className:"auth__message",children:b}),f&&(0,a.jsx)("p",{className:"auth__error",children:f}),(0,a.jsxs)("div",{className:"auth__actions",children:[(0,a.jsx)(i.default,{type:"submit",disabled:_,children:_?"Please wait...":"login"===u?"Login":"Create account"}),(0,a.jsx)(i.default,{variant:"secondary",onClick:()=>e.push("/"),type:"button",children:"Back to Home"})]})]})]})})}function u(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"auth",children:(0,a.jsx)("div",{className:"auth__card",children:(0,a.jsx)(l.default,{label:"Loading..."})})}),children:(0,a.jsx)(r,{})})}e.s(["default",()=>u])}]);