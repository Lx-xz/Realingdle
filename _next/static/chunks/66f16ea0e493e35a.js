(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35174,e=>{"use strict";var a=e.i(43476);let t=(0,e.i(75254).default)("sword",[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]]);function s({label:e="Loading...",compact:s=!1,light:i=!1}){return(0,a.jsxs)("div",{className:`loading ${s?"loading--compact":""} ${i?"loading--light":""}`.trim(),role:"status","aria-live":"polite",children:[(0,a.jsx)(t,{className:"loading__icon"}),e?(0,a.jsx)("span",{className:"loading__label",children:e}):null]})}e.s(["default",()=>s],35174)},97936,e=>{"use strict";var a=e.i(43476);function t({children:e,onClick:t,type:s="button",variant:i="primary",disabled:l=!1}){return(0,a.jsx)("button",{className:`button button--${i}`,onClick:t,type:s,disabled:l,children:e})}e.s(["default",()=>t])},90432,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(9915),l=e.i(97936),n=e.i(35174),r=e.i(17927);function u(){let e=(0,s.useRouter)(),{user:n,isLoading:u}=(0,i.useAuthSession)(),o=(0,s.useSearchParams)(),c=(0,t.useMemo)(()=>o.get("next")||"/game-settings",[o]),[d,h]=(0,t.useState)("login"),[m,p]=(0,t.useState)(""),[g,_]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[j,f]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[N,y]=(0,t.useState)("");(0,t.useEffect)(()=>{!u&&n&&e.replace(c)},[e,c,n,u]);let C=async a=>{a.preventDefault(),y(""),w(""),f(!0);try{if("signup"===d){if(g!==x)throw Error("Passwords do not match");let{error:e}=await r.supabase.auth.signUp({email:m,password:g,options:{emailRedirectTo:"https://lx-xz.github.io/realingdle/"}});if(e)throw e;w("Account created! Please confirm your email to continue.")}else{let{error:a}=await r.supabase.auth.signInWithPassword({email:m,password:g});if(a)throw a;e.replace(c)}}catch(e){y(e.message||"Unable to continue. Please try again.")}finally{f(!1)}},k=e=>{e!==d&&(h(e),y(""),w(""))};return(0,a.jsx)("div",{className:"auth",children:(0,a.jsxs)("div",{className:"auth__card",children:[(0,a.jsxs)("div",{className:"auth__header",children:[(0,a.jsx)("h1",{className:"auth__title",children:"Admin Access"}),(0,a.jsx)("p",{className:"auth__subtitle",children:"login"===d?"Login to manage characters and game data.":"Create an admin account to manage content."})]}),(0,a.jsxs)("div",{className:"auth__tabs",children:[(0,a.jsx)("button",{type:"button",className:`auth__tab ${"login"===d?"auth__tab--active":""}`,onClick:()=>k("login"),children:"Login"}),(0,a.jsx)("button",{type:"button",className:`auth__tab ${"signup"===d?"auth__tab--active":""}`,onClick:()=>k("signup"),children:"Sign up"})]}),(0,a.jsxs)("form",{className:"auth__form",onSubmit:C,children:[(0,a.jsxs)("div",{className:"auth__field",children:[(0,a.jsx)("label",{htmlFor:"auth-email",children:"Email"}),(0,a.jsx)("input",{id:"auth-email",type:"email",value:m,onChange:e=>p(e.target.value),required:!0,autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"auth__field",children:[(0,a.jsx)("label",{htmlFor:"auth-password",children:"Password"}),(0,a.jsx)("input",{id:"auth-password",type:"password",value:g,onChange:e=>_(e.target.value),required:!0,autoComplete:"signup"===d?"new-password":"current-password"})]}),"signup"===d&&(0,a.jsxs)("div",{className:"auth__field",children:[(0,a.jsx)("label",{htmlFor:"auth-confirm",children:"Confirm Password"}),(0,a.jsx)("input",{id:"auth-confirm",type:"password",value:x,onChange:e=>b(e.target.value),required:!0,autoComplete:"new-password"})]}),v&&(0,a.jsx)("p",{className:"auth__message",children:v}),N&&(0,a.jsx)("p",{className:"auth__error",children:N}),(0,a.jsxs)("div",{className:"auth__actions",children:[(0,a.jsx)(l.default,{type:"submit",disabled:j,children:j?"Please wait...":"login"===d?"Login":"Create account"}),(0,a.jsx)(l.default,{variant:"secondary",onClick:()=>e.push("/"),type:"button",children:"Back to Home"})]})]})]})})}function o(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"auth",children:(0,a.jsx)("div",{className:"auth__card",children:(0,a.jsx)(n.default,{label:"Loading..."})})}),children:(0,a.jsx)(u,{})})}e.s(["default",()=>o])}]);